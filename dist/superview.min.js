var Super;!function(l){class t{constructor(t){this._children=[],this._name=null,this.superview=null,(t.View=this)._element=t,this._name=t.getAttribute("var")||null,this._registerWithParent(),this._registerViewEvents()}static initializeViews(t){var i=(t=t||document).querySelectorAll("[view]");let n=[];for(let r=0;r<i.length;r++){let t=i[r];var s=t.getAttribute("view")||"Super.View";let e=l.ObjectProperty.fromObjectPath(window,s);if(!e||!e.isFunction())throw new Error("View class name is not a valid constructor.");n.push(new e.property(t))}return n}addClass(t){return"string"==typeof t&&(t=t.split(" ")),this._element.classList.add.apply(this._element.classList,t),this}removeClass(t){return"string"==typeof t&&(t=t.split(" ")),this._element.classList.remove.apply(this._element.classList,t),this}_registerWithParent(){let t=this._element.parentElement;for(;t&&!("View"in t);)t=t.parentElement;t&&t.View?(this.superview=t.View,this.superview._children.push(this),this._name&&(this.superview[this._name]=this)):this.as&&(window[this.as]=this)}_registerViewEvents(){let e=this._element.attributes;if(e)for(var r in e)if(e.hasOwnProperty(r)){let t=e[r].name;0===t.indexOf("@")&&this._registerViewEvent(t.substr(1),e[r].value)}}_registerViewEvent(t,e){let r=l.ObjectProperty.fromObjectPath(this,e)||l.ObjectProperty.fromObjectPath(window,e);if(!r)throw new Error("View event target ["+e+"] is not valid.");if(!r.isFunction())throw new Error("View event target ["+e+"] is not a function.");var i,n,e=(i=r,function(t){i.callFunction(t,n)});(n=this)._element.addEventListener(t,e)}}t.global=window,l.View=t}(Super=Super||{}),function(n){n.ObjectProperty=class{constructor(t,e){this.object=t,this.property=e}isFunction(){return"function"==typeof this.property}callFunction(...t){return this.property.apply(this.object,t)}static fromObjectPath(e,r){if("string"==typeof r&&(r=r.split(".")),!Array.isArray(r))throw new Error("Object path is not an array.");if(0===r.length)throw new Error("Object path is empty.");for(let t=0;t<r.length-1;t++){var i=r[t];if(!(i in e))return null;if(!(e=e[i]))return null}var t=r[r.length-1];return t in e?new n.ObjectProperty(e,e[t]):null}}}(Super=Super||{});